# Singletonパターン
## コードの説明
- singleton_enum: Python enumライブラリを使ったsingletonのコード
## 概要
- インスタンスがゼロの場合インスタンスを作るが、すでに存在する場合は、インスタンス生成の命令がきても実行しない。
  - インスタンスの存在をクラス変数に保持・監視。
  - 他のクラスが勝手にインスタンス作成できないようにする。インスタンスを取得するためには、そのクラス自体を経由(クラスメソッド)するようにする。
  - インスタンス生成時の振る舞いタイプとして、1.生成/無視をコントロールする、2.インスタンスの返り値として既存のインスタンスのIDを返す、の2種がある。

## 注意点
- シングルスレッドの場合はインスタンス個数を管理できるが、マルチスレッドの場合インスタンスの存在が確定する前に次のインスタンスを生成する、という問題が発生する場合がある。これを回避するためには、「インスタンス生成メソッドに同期化を要求する(メソッド実行のたびにオーバーヘッドが起きる)」「インスタンスの存在をチェックしたうえで生成するときに同期化を要求する」「さっさとインスタンスを作っておく」の2種類がある。

## enum型を使ったSingletonパターン
- テキストでは、インスタンス生成を監視して、インスタンスが無い場合はインスタンス生成、ある場合は既存のインスタンスを返す処理を行っている。
- しかし、今はenum型を使ってSingletonを作る方が容易であり正確である。