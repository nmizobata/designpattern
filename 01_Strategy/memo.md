# Strategy

## ソフトウェア開発における変わらぬもの
- 「変更」は常に発生。時間を費やす開発後の保守・拡張における効率化をめざさなければならない。
- オブジェクト指向の原則、抽象化・カプセル化・継承・多態性はそれを解決する方向性を示しているが、具体的にどう設計すれば実現できるかは別の議論。
- デザインパターンは、優れたOO設計の特性を持つ、具体的なシステムの構築方法を示している。
## 設計原則
- アプリケーション内の変化する部分を特定し、不変な部分と分離する。
- 変化する部分を取り出してカプセル化し、コードの他の部分に影響を及ぼさないようにする。
## 変わる部分の対処 - インターフェースに対してプログラミングする
- 「インターフェイスを実装する」とは、インターフェイスの約束や役割を定義し、その定義に従って実際に何かの動作を行うサブクラスを作ること。例えば、振る舞いインターフェースを定義し、具体的な振る舞いは振る舞いインターフェースクラスのサブクラスで実装する。(サブクラスにはインターフェースで定義された共通の名前のメソッドが存在する)
- 「インターフェイスに対してプログラミングする」とは、具体的な実装のされ方はわからないけれど、インターフェイスでの約束のとおりにインスタンスが動くことを信じてプログラミングをすること」。例えばDuckクラスでは、振る舞いの具体的な動作を意識せずに、ただインターフェースで定義された共通メソッドを使ってプログラムされている。こうすることで、振る舞いサブクラスの開発者は、振る舞いを利用している側を気にせず、また既存のサブクラスを改変せずに自由に振る舞いサブクラスを追加することができ、一方サブクラス利用者は振る舞いインターフェースサブクラスは中身こそ違えどれも同じように実装すれば問題無く動くと信じてプログラミングをすることができる。
## Has-A, Is-A - 継承よりコンポジションのほうが好ましい
- コンポジションのメリット。一連のアルゴリズムをクラス内にカプセル化(非可視化)できる。インターフェースに従って実装されている限り、利用者は静的だけでなく動的(実行時)にさえ切り替えて利用することができる。
## デザインパターンのメリット
- 他の開発者と、設計方針に関する共有ボキャブラリーを与えてくれる。「この実装はStrategyパターンを使って設計しよう」
- デザインパターンで伝えれば、パターンの表す特性、特徴、制約などをまとめて伝えらえれる。
- 「Strategy」パターン : 振る舞いをカプセル化してそれを利用する設計。振る舞いの拡張作業と、その振る舞いの利用者とを分けて設計を進める。振る舞いクラスのインターフェースの設計を確定する必要がある。

