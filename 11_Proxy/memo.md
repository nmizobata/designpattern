# Proxy
## 用語
- proxy: リモートに存在するリアルオブジェクトの代理として、ローカルで実行されるオブジェクト。ローカルのクライアントはこのproxyと会話する。
- リモートサービス： リアルオブジェクト上で動作しているサービス。proxyから送られる指示に従ってメソッドを実行する。
- ヒープ: プログラムが監視・利用できる領域。クライアントヒープ、サーバヒープ、などと使用する。
- ヘルパー: 補助プログラム。ここではヒープを超えてデータをやり取りするサービスを指しており、クライアントヘルパーがproxy、サービスヘルパーはクライアントヘルパーからのリクエストを解釈しサービスオブジェクトに呼び出す役割を担う。
- RMI(Remote Method Invoation): Javaで提供されているクライアントヘルパーオブジェクトとサービスヘルパーオブジェクトを作成してくれるツール。クライアントヘルパーは「スタブ」、サービスヘルパーは「スケルトン」と呼ばれる。
## 概要
- Proxyパターンは、リモートのオブジェクトをコントロールできるようにするパターン。
- クライアントおよびリモートオブジェクトは、機能実装はローカルベースでのコーディングでよいものの、ネットワークで発生する例外への対応が必要になる。
## リモートサービス作成の手順
1. リモートインターフェースを作成。
  - クライアントがリモートで呼び出せるメソッドを定義。リモートインターフェースは、クライアントがサービスのクラス型として使う。スタブと実際のサービスの両方がこのインターフェースを利用する。
1. リモート実装を作成。
  - 実際の処理を行うクラス。このクラスは、リモートインターフェースで定義したいリモートメソッドを実際に実装する。クライアントがメソッドを呼び出したいオブジェクト。
1. RMIレジストリを開始。
  - RMIレジストリは電話帳のようなもの。クライアントはここからプロキシ(クライアントスタブヘルパーオブジェクト)を取得。(クライアントのターミナルウィンドウでrmiresistryを実行)
1. リモートサービスを開始
  - サービスオブジェクトを稼働させる。サービス実装クラスがサービスのインスタンスをインスタンス化し、RMIレジストリに登録。登録するとクライアントがサービスを利用できるようになる。(スタブとスケルトンは動的に生成される)
