# Object Oriented Design
## OOの基礎
- 抽象化・カプセル化・多態性・継承
## OOの原則
- 変化する部分をカプセル化する。
- 継承よりコンポジションの方が好ましい。
  - 継承では、その振る舞いはコンパイル時に静的に設定される。またすべてのサブクラスが同じ振る舞いを継承しなければならない。
  - コンポジションで振る舞いを定義し、オプジェクトがコンポジションに振る舞いを委譲するように設計すると、振る舞いの定義を実行時に動的に行うことができる。
- オブジェクトは、実装(サブクラス)に対してではなくインターフェースに対してプログラミングする。
  - サブクラスは既存コードを変更するのではなく新しいコードを書くことで自由に追加できる。(Open-Closedの原則を参照)
  - オブジェクトは自らを変更することなくサブクラスを利用できる。
- 相互にやり取りするオブジェクト間には、疎結合設計を使用する。
- クラスを拡張に対しては開かれた状態にするべきだが、変更に対しては閉じた状態にする。(Open-Closedの原則)
  - Open-Closedの原則に従う場合、抽象化が必要であるため、コードが複雑になる(具体的な動きが掴みにくくなる)デメリットがある。そのためすべてに適用する必要はない。変化する可能性がもっとも高い部分にのみ適用すべきである。
## OOパターン
- Strategy: 一連のアルゴリズムを定義してカプセル化し、交換できるようにする。Strategyパターンを使うと、アルゴリズムを利用するクライアントとは独立してアルゴリズムを変更できる。
- Observer: オブジェクト間の1対多の依存関係を定義し、あるオブジェクトの状態が変化すると、そのオブジェクトに依存しているすべてのオブジェクトに自動的に通知され更新されるようにする。
- Decorator: オブジェクトに追加の責務を動的に付与する。Decoratorはサブクラス化の代替となる、柔軟な機能拡張手段を備えている。