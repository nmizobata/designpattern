# Decorator
## はじめに
Decoratorとは、クラスをデコレートする手法。これを使うと、クラスのコードに変更を加えずに、新しい機能・責務を与えることができる。
Strategyでは、オブジェクトが持つ、数種の振る舞いコンポジションを組み合わせることでバリエーションを作っていた。作るオブジェクトが少ない場合は問題無いが、組み合わせが増えるにつれ、似たり寄ったりのオブジェクトの種類が急速に増加する(クラス爆発)。また、適用不可のコンポジションサブクラスを適用してしまうミスを防ぐことが困難になる。
Decoratorは、オプジェクトの中に変化するコンポジションを持つのではなく、オブジェクトを包むように別のオブジェクトで実行時に動的に装飾するように設計することで、クラス爆発を防ぐ。
## Decoratorの概念
- Decoratorは装飾するオプジェクトと同じスーパークラスを持つ。
- オプジェクトをデコレータで装飾したものを、別のデコレータで重ねて装飾できる。そのため実行時に動的にオブジェクトを装飾できる。
- Decoratorは装飾したオブジェクトと同じスーパークラスを持つので、元のオブジェクトと同じような仕方で扱うことができる。
- Decoratorは装飾するオブジェクトに処理を委譲する前後で、自らの振る舞いを追加して処理を実行する。(再帰的な処理)
- Decoratorは多数の小さなオブジェクトができる可能性があり、使いすぎると複雑になることがある。
